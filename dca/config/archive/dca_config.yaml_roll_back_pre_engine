# DCA configuration for smart 3Commas-style signals

max_trade_usdt: 2000             # Total max allocation per trade
base_order_usdt: 20              # Initial buy-in (for reference)
drawdown_trigger_pct: 1.5        # Minimum % drop from avg price to allow DCA
safu_score_threshold: 0.4        # Minimum SAFU score required to allow DCA

# === Health Guardrails ===
require_indicator_health: true   # Require RSI, MACD, ADX checks to pass
indicator_thresholds:
  rsi: 45
  macd_histogram: 0.0
  adx: 20

# === TP1 reference distances (used to estimate BE shift from DCA) ===
tp1_targets:
  - 0.4
  - 1.1
  - 1.7
  - 2.4
  - 3.0
  - 3.9
  - 5.2
  - 7.1
  - 10.0

# === Smart SO ladder (volume injected at each DCA level) ===
so_volume_table:
  - 20       # Entry
  - 10       # SO1
  - 19       # SO2
  - 36.1     # SO3
  - 68.59    # SO4
  - 130.32   # SO5
  - 247.61   # SO6
  - 470.46   # SO7
  - 893.87   # SO8

# === BTC Market Filter ===
use_btc_filter: true
btc_indicators:
  rsi_max: 40                    # If BTC RSI is above this, weâ€™re okay
  macd_histogram_max: 0.0       # Reject DCA if BTC MACD is bearish
  adx_max: 15                   # Avoid DCA if BTC is overly strong trending

# === Recovery Trajectory Checks ===
use_trajectory_check: true
trajectory_thresholds:
  macd_lift_min: 0.00001        # Require MACD histogram rising vs prev
  rsi_slope_min: 0.1            # Require RSI uptick between recent candles

# === Score Decay Guard ===
score_decay_min: 0.3             # Block DCA if score has decayed below this

# === DCA Buffer Zone ===
buffer_zone_pct: 0.3             # Require price to approach next SO % deeper before DCA
