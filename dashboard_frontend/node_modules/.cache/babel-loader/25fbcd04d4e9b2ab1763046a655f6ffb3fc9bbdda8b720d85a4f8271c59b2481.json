{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TradeTable(){const[trades,setTrades]=useState([]);useEffect(()=>{axios.get(\"/api/fork/metrics\").then(res=>{var _res$data,_res$data$metrics;const deals=(_res$data=res.data)===null||_res$data===void 0?void 0:(_res$data$metrics=_res$data.metrics)===null||_res$data$metrics===void 0?void 0:_res$data$metrics.active_deals;setTrades(Array.isArray(deals)?deals:[]);}).catch(err=>{console.error(\"‚ùå Fetch error:\",err);setTrades([]);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 sm:p-6 overflow-x-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"\\uD83D\\uDCCA Live Trades\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto hidden lg:block\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full table-auto border-collapse\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-800 text-left text-sm\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Symbol\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Fork Score\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Confidence\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Tags\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"DCA Step\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Budget Used\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Open PnL\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:trades.map((trade,idx)=>{var _trade$spent_amount,_trade$open_pnl;return/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t border-gray-700 hover:bg-gray-800\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-2 font-medium\",children:trade.pair}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 text-green-400\",children:\"Active\"}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:\"\\u2014\"}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:\"\\u2014\"}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:\"\\u2014\"}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:\"\\u2014\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-2\",children:[\"$\",(_trade$spent_amount=trade.spent_amount)===null||_trade$spent_amount===void 0?void 0:_trade$spent_amount.toFixed(0)]}),/*#__PURE__*/_jsx(\"td\",{className:`p-2 ${trade.open_pnl>=0?\"text-green-400\":\"text-red-400\"}`,children:(_trade$open_pnl=trade.open_pnl)===null||_trade$open_pnl===void 0?void 0:_trade$open_pnl.toFixed(2)})]},idx);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:hidden space-y-4\",children:trades.map((trade,idx)=>{var _trade$spent_amount2,_trade$open_pnl2;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-xl p-4 shadow-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-lg\",children:trade.pair}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm mt-1 text-green-400\",children:\"Active\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm mt-2\",children:[\"\\uD83D\\uDCB5 Budget: $\",(_trade$spent_amount2=trade.spent_amount)===null||_trade$spent_amount2===void 0?void 0:_trade$spent_amount2.toFixed(0)]}),/*#__PURE__*/_jsxs(\"div\",{className:`text-sm ${trade.open_pnl>=0?\"text-green-400\":\"text-red-400\"}`,children:[\"\\uD83D\\uDCC8 Open PnL: \",(_trade$open_pnl2=trade.open_pnl)===null||_trade$open_pnl2===void 0?void 0:_trade$open_pnl2.toFixed(2)]})]},idx);})})]});}export default TradeTable;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","TradeTable","trades","setTrades","get","then","res","_res$data","_res$data$metrics","deals","data","metrics","active_deals","Array","isArray","catch","err","console","error","className","children","map","trade","idx","_trade$spent_amount","_trade$open_pnl","pair","spent_amount","toFixed","open_pnl","_trade$spent_amount2","_trade$open_pnl2"],"sources":["/home/signal/market7/dashboard_frontend/src/components/TradeTable.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction TradeTable() {\n  const [trades, setTrades] = useState([]);\n\n  useEffect(() => {\n    axios.get(\"/api/fork/metrics\")\n      .then((res) => {\n        const deals = res.data?.metrics?.active_deals;\n        setTrades(Array.isArray(deals) ? deals : []);\n      })\n      .catch((err) => {\n        console.error(\"‚ùå Fetch error:\", err);\n        setTrades([]);\n      });\n  }, []);\n\n  return (\n    <div className=\"p-4 sm:p-6 overflow-x-auto\">\n      <h2 className=\"text-xl font-semibold mb-4\">üìä Live Trades</h2>\n\n      {/* Desktop Table View */}\n      <div className=\"overflow-x-auto hidden lg:block\">\n        <table className=\"min-w-full table-auto border-collapse\">\n          <thead>\n            <tr className=\"bg-gray-800 text-left text-sm\">\n              <th className=\"p-2\">Symbol</th>\n              <th className=\"p-2\">Status</th>\n              <th className=\"p-2\">Fork Score</th>\n              <th className=\"p-2\">Confidence</th>\n              <th className=\"p-2\">Tags</th>\n              <th className=\"p-2\">DCA Step</th>\n              <th className=\"p-2\">Budget Used</th>\n              <th className=\"p-2\">Open PnL</th>\n            </tr>\n          </thead>\n          <tbody>\n            {trades.map((trade, idx) => (\n              <tr key={idx} className=\"border-t border-gray-700 hover:bg-gray-800\">\n                <td className=\"p-2 font-medium\">{trade.pair}</td>\n                <td className=\"p-2 text-green-400\">Active</td>\n                <td className=\"p-2\">‚Äî</td>\n                <td className=\"p-2\">‚Äî</td>\n                <td className=\"p-2\">‚Äî</td>\n                <td className=\"p-2\">‚Äî</td>\n                <td className=\"p-2\">${trade.spent_amount?.toFixed(0)}</td>\n                <td className={`p-2 ${trade.open_pnl >= 0 ? \"text-green-400\" : \"text-red-400\"}`}>\n                  {trade.open_pnl?.toFixed(2)}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Mobile Card View */}\n      <div className=\"lg:hidden space-y-4\">\n        {trades.map((trade, idx) => (\n          <div key={idx} className=\"bg-gray-800 rounded-xl p-4 shadow-md\">\n            <div className=\"font-semibold text-lg\">{trade.pair}</div>\n            <div className=\"text-sm mt-1 text-green-400\">Active</div>\n            <div className=\"text-sm mt-2\">üíµ Budget: ${trade.spent_amount?.toFixed(0)}</div>\n            <div className={`text-sm ${trade.open_pnl >= 0 ? \"text-green-400\" : \"text-red-400\"}`}>\n              üìà Open PnL: {trade.open_pnl?.toFixed(2)}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default TradeTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}